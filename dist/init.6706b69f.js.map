{"version":3,"sources":["constants.js","ui.js","gameState.js","buttons.js","init.js"],"names":["ICONS","exports","SCENES","TICK_RATE","RAIN_CHANCE","DAY_LENGTH","NIGHT_LENGTH","getNextHungerTime","clock","Math","floor","random","getNextDieTime","getNextPoopTime","modFox","state","document","querySelector","className","concat","modScene","togglePoopBag","show","classList","toggle","writeModal","text","arguments","length","undefined","innerHTML","_constants","require","_ui","gameState","current","wakeTime","sleepTime","hungryTime","dieTime","poopTime","timeToStartCelebrating","timeToEndCelebrating","scene","tick","wake","sleep","getHungry","startCelebrating","endCelebrating","poop","die","startGame","determineFoxState","handleUserAction","icon","includes","changeWeather","cleanUpPoop","feed","clearTimes","bind","_default","default","toggleHighlighted","initButtons","selectedIcon","addEventListener","_ref","target","contains","console","log","_gameState","_interopRequireWildcard","_buttons","_interopRequireDefault","obj","__esModule","_getRequireWildcardCache","e","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","_typeof","o","Symbol","iterator","constructor","_regeneratorRuntime","value","c","asyncIterator","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","type","arg","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","d","getPrototypeOf","v","values","g","defineIteratorMethods","forEach","_invoke","AsyncIterator","invoke","resolve","__await","then","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","return","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","name","mark","setPrototypeOf","awrap","async","Promise","keys","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","catch","_catch","delegateYield","asyncGeneratorStep","gen","reject","_next","_throw","key","info","error","_asyncToGenerator","fn","self","args","apply","err","init","_init","_callee","nextTimeToTick","nextAnimationFrame","_callee$","_context","_nextAnimationFrame","now","Date","game","requestAnimationFrame"],"mappings":"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","file":"init.6706b69f.js","sourceRoot":"..\\src","sourcesContent":["export const ICONS = [\"fish\", \"poop\", \"weather\"];\r\nexport const SCENES = [\"day\", \"rain\"];\r\nexport const TICK_RATE = 3000;\r\nexport const RAIN_CHANCE = 0.2;\r\nexport const DAY_LENGTH = 60;\r\nexport const NIGHT_LENGTH = 5;\r\nexport const getNextHungerTime = (clock) =>\r\n  Math.floor(Math.random() * 3) + 8 + clock;\r\nexport const getNextDieTime = (clock) =>\r\n  Math.floor(Math.random() * 3) + 3 + clock;\r\nexport const getNextPoopTime = (clock) =>\r\n  Math.floor(Math.random() * 3) + 8 + clock;\r\n","export const modFox = function modFox(state) {\r\n  document.querySelector(\".fox\").className = `fox fox-${state}`;\r\n};\r\nexport const modScene = function modScene(state) {\r\n  document.querySelector(\".game\").className = `game ${state}`;\r\n};\r\nexport const togglePoopBag = function togglePoopBag(show) {\r\n  document.querySelector(\".poop-bag\").classList.toggle(\"hidden\", !show);\r\n};\r\nexport const writeModal = function writeModal(text = \"\") {\r\n  document.querySelector(\r\n    \".modal\"\r\n  ).innerHTML = `<div class=\"modal-inner\">${text}</div>`;\r\n};\r\n","import {\r\n  SCENES,\r\n  RAIN_CHANCE,\r\n  DAY_LENGTH,\r\n  NIGHT_LENGTH,\r\n  getNextHungerTime,\r\n  getNextDieTime,\r\n  getNextPoopTime,\r\n} from \"./constants\";\r\nimport { modFox, modScene, togglePoopBag, writeModal } from \"./ui\";\r\n\r\nconst gameState = {\r\n  current: \"INIT\",\r\n  clock: 1,\r\n  wakeTime: -1,\r\n  sleepTime: -1,\r\n  hungryTime: -1,\r\n  dieTime: -1,\r\n  poopTime: -1,\r\n  timeToStartCelebrating: -1,\r\n  timeToEndCelebrating: -1,\r\n  scene: 0,\r\n  tick() {\r\n    \r\n    this.clock++;\r\n    if (this.clock === this.wakeTime) {\r\n      this.wake();\r\n    } else if (this.clock === this.sleepTime) {\r\n      this.sleep();\r\n    } else if (this.clock === this.hungryTime) {\r\n      this.getHungry();\r\n    } else if (this.clock === this.timeToStartCelebrating) {\r\n      this.startCelebrating();\r\n    } else if (this.clock === this.timeToEndCelebrating) {\r\n      this.endCelebrating();\r\n    } else if (this.clock === this.poopTime) {\r\n      this.poop();\r\n    } else if (this.clock === this.dieTime) {\r\n      this.die();\r\n    }\r\n\r\n    return this.clock;\r\n  },\r\n  startGame() {\r\n    this.current = \"HATCHING\";\r\n    this.wakeTime = this.clock + 3;\r\n    modFox(\"egg\");\r\n    modScene(\"day\");\r\n    writeModal();\r\n  },\r\n  wake() {\r\n    this.current = \"IDLING\";\r\n    this.wakeTime = -1;\r\n    modFox(\"idling\");\r\n    this.scene = Math.random() > RAIN_CHANCE ? 0 : 1;\r\n    modScene(SCENES[this.scene]);\r\n    this.determineFoxState();\r\n    this.sleepTime = this.clock + DAY_LENGTH;\r\n    this.hungryTime = getNextHungerTime(this.clock);\r\n  },\r\n  handleUserAction(icon) {\r\n    // can't do actions while in these states\r\n    if (\r\n      [\"SLEEP\", \"FEEDING\", \"CELEBRATING\", \"HATCHING\"].includes(this.current)\r\n    ) {\r\n      // do nothing\r\n      return;\r\n    }\r\n\r\n    if (this.current === \"INIT\" || this.current === \"DEAD\") {\r\n      this.startGame();\r\n      return;\r\n    }\r\n\r\n    // execute the currently selected action\r\n    switch (icon) {\r\n      case \"weather\":\r\n        this.changeWeather();\r\n        break;\r\n      case \"poop\":\r\n        this.cleanUpPoop();\r\n        break;\r\n      case \"fish\":\r\n        this.feed();\r\n        break;\r\n    }\r\n  },\r\n  changeWeather() {\r\n    this.scene = (1 + this.scene) % SCENES.length;\r\n    modScene(SCENES[this.scene]);\r\n    this.determineFoxState();\r\n  },\r\n  cleanUpPoop() {\r\n    if (this.current === \"POOPING\") {\r\n      this.dieTime = -1;\r\n      togglePoopBag(true);\r\n      this.startCelebrating();\r\n      this.hungryTime = getNextHungerTime(this.clock);\r\n    }\r\n  },\r\n  poop() {\r\n    this.current = \"POOPING\";\r\n    this.poopTime = -1;\r\n    this.dieTime = getNextDieTime(this.clock);\r\n    modFox(\"pooping\");\r\n  },\r\n  feed() {\r\n    // can only feed when hungry\r\n    if (this.current !== \"HUNGRY\") {\r\n      return;\r\n    }\r\n\r\n    this.current = \"FEEDING\";\r\n    this.dieTime = -1;\r\n    this.poopTime = getNextPoopTime(this.clock);\r\n    modFox(\"eating\");\r\n    this.timeToStartCelebrating = this.clock + 2;\r\n  },\r\n  startCelebrating() {\r\n    this.current = \"CELEBRATING\";\r\n    modFox(\"celebrate\");\r\n    this.timeToStartCelebrating = -1;\r\n    this.timeToEndCelebrating = this.clock + 2;\r\n  },\r\n  endCelebrating() {\r\n    this.timeToEndCelebrating = -1;\r\n    this.current = \"IDLING\";\r\n    this.determineFoxState();\r\n    togglePoopBag(false);\r\n  },\r\n  determineFoxState() {\r\n    if (this.current === \"IDLING\") {\r\n      if (SCENES[this.scene] === \"rain\") {\r\n        modFox(\"rain\");\r\n      } else {\r\n        modFox(\"idling\");\r\n      }\r\n    }\r\n  },\r\n  clearTimes() {\r\n    this.wakeTime = -1;\r\n    this.sleepTime = -1;\r\n    this.hungryTime = -1;\r\n    this.dieTime = -1;\r\n    this.poopTime = -1;\r\n    this.timeToStartCelebrating = -1;\r\n    this.timeToEndCelebrating = -1;\r\n  },\r\n  sleep() {\r\n    this.current = \"SLEEP\";\r\n    modFox(\"sleep\");\r\n    modScene(\"night\");\r\n    this.clearTimes();\r\n    this.wakeTime = this.clock + NIGHT_LENGTH;\r\n  },\r\n  getHungry() {\r\n    this.current = \"HUNGRY\";\r\n    this.dieTime = getNextDieTime(this.clock);\r\n    this.hungryTime = -1;\r\n    modFox(\"hungry\");\r\n  },\r\n  die() {\r\n    this.current = \"DEAD\";\r\n    modScene(\"dead\");\r\n    modFox(\"dead\");\r\n    this.clearTimes();\r\n    writeModal(\"The fox died :( <br/> Press the middle button to start\");\r\n  },\r\n};\r\n\r\nexport const handleUserAction = gameState.handleUserAction.bind(gameState);\r\nexport default gameState;\r\n","import { ICONS } from \"./constants\";\r\n\r\nconst toggleHighlighted = (icon, show) =>\r\n  document\r\n    .querySelector(`.${ICONS[icon]}-icon`)\r\n    .classList.toggle(\"highlighted\", show);\r\n\r\nexport default function initButtons(handleUserAction) {\r\n  let selectedIcon = 0;\r\n  function buttonClick({ target }) {\r\n    if (target.classList.contains(\"left-btn\")) {\r\n      toggleHighlighted(selectedIcon, false);\r\n      selectedIcon = (2 + selectedIcon) % ICONS.length;\r\n      toggleHighlighted(selectedIcon, true);\r\n    } else if (target.classList.contains(\"right-btn\")) {\r\n      toggleHighlighted(selectedIcon, false);\r\n      selectedIcon = (1 + selectedIcon) % ICONS.length;\r\n      toggleHighlighted(selectedIcon, true);\r\n    } else {\r\n      console.log('Another called')\r\n      handleUserAction(ICONS[selectedIcon]);\r\n    }\r\n  }\r\n\r\n  document.querySelector(\".buttons\").addEventListener(\"click\", buttonClick);\r\n}\r\n","import game, { handleUserAction } from \"./gameState\";\r\nimport initButtons from \"./buttons\";\r\nimport { TICK_RATE } from \"./constants\";\r\n\r\nasync function init() {\r\n  console.log(\"starting game\");\r\n  initButtons(handleUserAction);\r\n\r\n  let nextTimeToTick = Date.now();\r\n  function nextAnimationFrame() {\r\n    const now = Date.now();\r\n    if (nextTimeToTick <= now) {\r\n      game.tick();\r\n      nextTimeToTick = now + TICK_RATE;\r\n    }\r\n    requestAnimationFrame(nextAnimationFrame);\r\n  }\r\n\r\n  nextAnimationFrame();\r\n}\r\n\r\ninit();\r\n"]}